# ==============================================================
# 1단계: 웹사이트 데이터 가져오기 (requests 라이브러리)
# ==============================================================
# 
# 🎯 이 파일에서 배울 내용:
#    - requests 라이브러리로 웹사이트에 접속하기
#    - 응답 상태 코드 확인하기
#    - 웹페이지의 HTML 내용 가져오기
#
# ==============================================================

# --------------------------------------------------------------
# 📚 라이브러리 불러오기
# --------------------------------------------------------------
# requests: 웹사이트에 요청을 보내고 응답을 받는 라이브러리
# 비유: 웹사이트에 "이 페이지 보여줘!"라고 말하는 도구
import requests

# --------------------------------------------------------------
# 🌐 1. 웹사이트에 요청 보내기
# --------------------------------------------------------------
# 접속할 웹사이트 주소 (URL)
# 예시로 httpbin.org를 사용합니다 (테스트용 웹사이트)
url = "https://news.naver.com/section/105"

# requests.get(url): 해당 주소로 "GET 요청"을 보냅니다
# GET 요청 = "이 페이지의 내용을 보여달라"는 요청
# 비유: 웹브라우저에서 주소를 입력하고 엔터를 누르는 것과 같아요!
response = requests.get(url)

# --------------------------------------------------------------
# ✅ 2. 응답 상태 코드 확인하기
# --------------------------------------------------------------
# 상태 코드(status_code): 요청이 성공했는지 알려주는 숫자
# 
# 자주 보는 상태 코드:
#   200 = 성공! 페이지를 잘 가져왔어요 ✅
#   404 = 페이지를 찾을 수 없어요 (주소가 잘못됨) ❌
#   500 = 서버에 문제가 생겼어요 ⚠️
#
print("=" * 50)
print("📊 응답 상태 확인")
print("=" * 50)
print(f"상태 코드: {response.status_code}")


# 상태 코드가 200인지 확인
if response.status_code == 200:
    print("✅ 성공! 웹사이트에서 데이터를 잘 가져왔어요!")
else:
    print(f"❌ 실패! 상태 코드: {response.status_code}")
    exit()

# --------------------------------------------------------------
# 📄 3. HTML 내용 가져오기
# --------------------------------------------------------------
# response.text: 웹페이지의 HTML 내용 (문자열)
# HTML = 웹페이지를 구성하는 코드
#
print("\n" + "=" * 50)
print("📄 HTML 내용 (처음 500글자)")
print("=" * 50)

# HTML 내용 중 처음 500글자만 출력 (너무 길면 읽기 어려우니까!)
html_content = response.text
print(html_content[:500])

# --------------------------------------------------------------
# 📋 4. 추가 정보 확인하기
# --------------------------------------------------------------
print("\n" + "=" * 50)
print("📋 추가 정보")
print("=" * 50)

# 응답 헤더에서 콘텐츠 타입 확인
# Content-Type: 이 페이지가 어떤 종류인지 (HTML, JSON 등)
print(f"콘텐츠 타입: {response.headers.get('Content-Type', '알 수 없음')}")

# 인코딩 확인 (한글 깨짐 방지에 중요!)
print(f"인코딩: {response.encoding}")

# HTML 전체 길이
print(f"HTML 전체 길이: {len(html_content)}글자")

# --------------------------------------------------------------
# 🎉 정리
# --------------------------------------------------------------
print("\n" + "=" * 50)
print("🎉 1단계 완료!")
print("=" * 50)
print("""
✨ 오늘 배운 것:
   1. requests.get(url) - 웹사이트에 요청 보내기
   2. response.status_code - 성공 여부 확인 (200 = 성공)
   3. response.text - HTML 내용 가져오기
   
다음 단계에서는 이 HTML에서 원하는 정보를 찾는 방법을 배워요!
""")
